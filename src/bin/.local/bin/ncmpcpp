# ~/.local/bin/ncmpcpp
# Wrapper for ncmpcpp to access an mpd_host with password, without telling the
# whole world about it.

if [[ ! -d "$HOME/.ncmpcpp" ]]; then
    mkdir ~/.ncmpcpp
fi

tmp="$HOME/.ncmpcpp/config"
touch $tmp
chmod 600 $tmp

cat <<EOF >> $tmp
autocenter_mode = "yes"
browser_display_mode = "classic"
centered_cursor = "yes"
clock_display_seconds = "yes"
default_space_mode = "add"
display_bitrate = "yes"
display_remaining_time = "yes"
display_volume_level = "yes"
enable_window_title = "yes"
fetch_lyrics_for_current_song_in_background = "no"
follow_now_playing_lyrics = "no"
header_visibility = "no"
ignore_leading_the = "yes"
message_delay_time = "4"
mouse_support = "yes"
mpd_host = "$(pass machines/hoshijiro/mpd)@192.168.1.25"
mpd_music_dir = "~/media/music/lib/dummy/prefer_flac"
mpd_port = "6600"
playlist_disable_highlight_delay = "5"
playlist_display_mode = "classic"
playlist_separate_albums = "no"
playlist_show_remaining_time = "yes"
search_engine_display_mode = "classic"
song_library_format = "{%t}|{%f}"
song_list_format = "{$4[%l]$9} {$5%a$9} {$6%t$9} %y %n {$5%b$9}"
store_lyrics_in_song_dir = "no"
user_interface = "alternative"
EOF

/usr/bin/ncmpcpp -c $tmp
shred --remove $tmp
